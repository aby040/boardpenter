(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"w/zP":function(t,e,n){"use strict";n.r(e),n.d(e,"BuildersModule",(function(){return y}));var i=n("PCNd"),a=n("tyNb"),o=n("LvDl"),c=n("fXoL");let b=(()=>{class t{constructor(){}buildCupboard(t){const{title:e,layout:n,height:i,width:a,depth:o,thickness:c,edgeBand:b,backPanel:l,backPanelMaterial:r,backPanelBuffer:s,skirting:d,skirtingHeight:g,dummy:u,dummyWidth:m,material:h,laminationInner:f="white",laminationOuter:p,division:P,compartments:M,frontSetBack:v=0}=t,Q=[1^n[0],1^n[1],1^n[2],1^n[3]],y=f===p?"BSL "+f:`Os ${p} Os ${f}`,_={label:"Top",quantity:1,note:"Grooving",materialLabel:`${h} ${y}`,dimensions:{length:Math.round(a-(c*n[0]+c*n[1])),width:Math.round(o)},edgeband:{left:b,right:b,top:n[0]?"":b,bottom:n[1]?"":b}},C={label:"Bottom",quantity:1,note:"Grooving",materialLabel:`${h} ${y}`,dimensions:{length:Math.round(a-(c*n[2]+c*n[3])),width:Math.round(o)},edgeband:{left:b,right:b,top:n[3]?"":b,bottom:n[2]?"":b}},k={label:"Side - Left",quantity:1,note:"Grooving",materialLabel:`${h} ${y}`,dimensions:{length:Math.round(i-(c*Q[0]+c*Q[3])),width:Math.round(o)},edgeband:{left:b,right:b,top:n[0]?b:"",bottom:n[3]?b:""}},w=[{label:"Side - Right",quantity:1,note:"Grooving",materialLabel:`${h} ${y}`,dimensions:{length:Math.round(i-(c*Q[1]+c*Q[2])),width:Math.round(o)},edgeband:{left:b,right:b,top:n[1]?b:"",bottom:n[2]?b:""}},k,_,C];w.push({label:"Division",quantity:P-1,materialLabel:`${h} BSL ${f}`,edgeband:{left:b,right:"",top:"",bottom:""},dimensions:{length:Math.round(i-2*c),width:Math.round(o-s)}});for(const I of M)I.shelves>1&&w.push({label:"Shelf",quantity:I.shelves-1,materialLabel:`${h} BSL ${f}`,edgeband:{left:b,right:"",top:"",bottom:""},dimensions:{length:I.width,width:Math.round(o-s-v)}});if(l){const t="white"===f?"BSL white":`Os ${f} Os white`,e=Math.max(Math.round(a-c),Math.round(i-c)),n=Math.min(Math.round(a-c),Math.round(i-c));w.push({label:"Back Cover",quantity:1,materialLabel:`${r} ${t}`,dimensions:{length:e,width:n}})}return d&&(w.push({label:"Skirting",quantity:2,materialLabel:`${h} ${f}`,dimensions:{length:Math.round(a),width:Math.round(g)}}),w.push({label:"Skirting",quantity:2,materialLabel:`${h} ${f}`,dimensions:{length:Math.round(o-2*c),width:Math.round(g)}})),u&&(w.push({label:"Outer Dummy",quantity:1,materialLabel:`${h} ${y}`,dimensions:{length:Math.round(i),width:Math.round(m)}}),w.push({label:"Inner Dummy",quantity:1,materialLabel:`${h} BSL ${f}`,dimensions:{length:Math.round(i-2*c),width:Math.round(m)}})),{title:e,panels:w}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=n("4J96"),r=n("NFeN"),s=n("jhN1"),d=n("3Pt+"),g=n("kmnG"),u=n("qFsG"),m=n("ofXK"),h=n("bSwM"),f=n("jaxi"),p=n("bTqV");function P(t,e){if(1&t){const t=c.Rb();c.Qb(0,"div",47),c.Qb(1,"mat-form-field"),c.Qb(2,"mat-label"),c.tc(3,"Width"),c.Pb(),c.Qb(4,"input",48),c.Xb("ngModelChange",(function(n){return c.jc(t),e.$implicit.width=n})),c.Pb(),c.Qb(5,"mat-hint",8),c.tc(6,"Width of compartment"),c.Pb(),c.Pb(),c.Qb(7,"mat-form-field"),c.Qb(8,"mat-label"),c.tc(9,"Shelf"),c.Pb(),c.Qb(10,"input",48),c.Xb("ngModelChange",(function(n){return c.jc(t),e.$implicit.shelves=n})),c.Pb(),c.Qb(11,"mat-hint",8),c.tc(12,"Number of shelves"),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=e.$implicit,n=e.index;c.Ab(4),c.fc("name","comp-width-",n,""),c.ec("ngModel",t.width),c.Ab(6),c.fc("name","shelf-",n,""),c.ec("ngModel",t.shelves)}}const M=function(){return["/"]};let v=(()=>{class t{constructor(t,e,n,i,a,o){this.builder=t,this.state=e,this.route=n,this.router=i,this.matIconRegistry=a,this.domSanitizer=o,this.isSlidingDoor=!1,this.matIconRegistry.addSvgIcon("cage_top_left_a",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/cage_top_left_a.svg")),this.matIconRegistry.addSvgIcon("cage_top_right_a",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/cage_top_right_a.svg")),this.matIconRegistry.addSvgIcon("cage_bottom_right_a",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/cage_bottom_right_a.svg")),this.matIconRegistry.addSvgIcon("cage_bottom_left_a",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/cage_bottom_left_a.svg")),this.matIconRegistry.addSvgIcon("cage_top_left_b",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/cage_top_left_b.svg")),this.matIconRegistry.addSvgIcon("cage_top_right_b",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/cage_top_right_b.svg")),this.matIconRegistry.addSvgIcon("cage_bottom_right_b",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/cage_bottom_right_b.svg")),this.matIconRegistry.addSvgIcon("cage_bottom_left_b",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/cage_bottom_left_b.svg"))}ngOnInit(){if(this.id=parseInt(this.route.snapshot.params.id,10),this.id){const{data:t}=Object(o.find)(this.state.getItems(),t=>t.id===this.id);this.specification=Object.assign({},t.specs,{layout:Object(o.clone)(t.specs.layout),compartments:t.specs.compartments.map(t=>{const{shelves:e,width:n}=t;return{shelves:e,width:n}})})}else this.specification={laminationInner:"white",backPanelMaterial:"6mm PLY",backPanelBuffer:25,division:2,compartments:[],layout:[0,0,0,0],backPanel:!0,skirting:!1}}onDivisionCountChange(){const{width:t,thickness:e,division:n}=this.specification;if(t&&e&&n){const i=t-e*(n+1),a=Math.floor(i/n);let o=0;const c=[];for(let t=0;t<n;t++){let e;t<n-1?(e=Math.round(a),o+=e):e=Math.round(i-o),c.push({width:e,shelves:1}),this.specification.compartments=c}}else this.specification.compartments=[]}trackByShelfIndex(t){return t}save(){const t=this.builder.buildCupboard(this.specification);this.id?this.state.editItem(this.id,t.title,"CUPBOARD",{specs:this.specification,measurements:t}):this.state.addItem(t.title,"CUPBOARD",{specs:this.specification,measurements:t}),this.router.navigate(["../../"])}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(b),c.Kb(l.a),c.Kb(a.a),c.Kb(a.b),c.Kb(r.c),c.Kb(s.b))},t.\u0275cmp=c.Eb({type:t,selectors:[["ng-component"]],decls:137,vars:40,consts:[[1,"cupboard"],[1,"row-container"],[1,"full-width-field"],["matInput","","name","title",3,"ngModel","ngModelChange"],["matInput","","name","material",3,"ngModel","ngModelChange"],["matInput","","name","laminationOuter",3,"ngModel","ngModelChange"],["matInput","","name","laminationInner",3,"ngModel","ngModelChange"],["matInput","","name","height","type","number",3,"ngModel","ngModelChange"],["align","end"],["matInput","","name","width","type","number",3,"ngModel","ngModelChange"],["matInput","","name","depth","type","number",3,"ngModel","ngModelChange"],["matInput","","name","thickness","type","number",3,"ngModel","ngModelChange"],["matInput","","name","edgeBand","type","number",3,"ngModel","ngModelChange"],["matInput","","name","division","type","number","min","1",3,"ngModel","ngModelChange"],[1,"compartment-container"],["class","compartment-column",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-column"],[1,"checkbox-container"],["name","isSlidingDoor",3,"ngModel","ngModelChange"],["matInput","","name","frontSetBack","type","number",3,"disabled","ngModel","ngModelChange"],["name","dummy",3,"ngModel","ngModelChange"],["matInput","","name","dummyWidth","type","number",3,"disabled","ngModel","ngModelChange"],["name","skirting",3,"ngModel","ngModelChange"],["matInput","","name","skirtingHeight","type","number",3,"disabled","ngModel","ngModelChange"],["name","backPanel",3,"ngModel","ngModelChange"],["matInput","","name","backPanelBuffer","type","number",3,"disabled","ngModel","ngModelChange"],[1,"layout-container"],[3,"value","valueChange"],["group","matButtonToggleGroup"],["aria-label","Top Panel",3,"value"],["svgIcon","cage_top_left_a"],["aria-label","Side Panel",3,"value"],["svgIcon","cage_top_left_b"],["svgIcon","cage_top_right_a"],["svgIcon","cage_top_right_b"],["bottomLeft","matButtonToggleGroup"],["aria-label","Bottom Panel",3,"value"],["svgIcon","cage_bottom_left_a"],["svgIcon","cage_bottom_left_b"],["bottomRight","matButtonToggleGroup"],["svgIcon","cage_bottom_right_a"],["svgIcon","cage_bottom_right_b"],["matInput","","name","backPanelMaterial",3,"disabled","ngModel","ngModelChange"],[1,"button-container"],[1,"buttons-holder"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"click"],[1,"compartment-column"],["matInput","","type","number","min","1",3,"ngModel","name","ngModelChange"]],template:function(t,e){1&t&&(c.Qb(0,"form",0),c.Qb(1,"div",1),c.Qb(2,"mat-form-field",2),c.Qb(3,"mat-label"),c.tc(4,"Title"),c.Pb(),c.Qb(5,"input",3),c.Xb("ngModelChange",(function(t){return e.specification.title=t})),c.Pb(),c.Pb(),c.Pb(),c.Qb(6,"div",1),c.Qb(7,"mat-form-field",2),c.Qb(8,"mat-label"),c.tc(9,"Material"),c.Pb(),c.Qb(10,"input",4),c.Xb("ngModelChange",(function(t){return e.specification.material=t})),c.Pb(),c.Pb(),c.Pb(),c.Qb(11,"div",1),c.Qb(12,"mat-form-field",2),c.Qb(13,"mat-label"),c.tc(14,"Lamination (Outer)"),c.Pb(),c.Qb(15,"input",5),c.Xb("ngModelChange",(function(t){return e.specification.laminationOuter=t})),c.Pb(),c.Pb(),c.Pb(),c.Qb(16,"div",1),c.Qb(17,"mat-form-field",2),c.Qb(18,"mat-label"),c.tc(19,"Lamination (Inner)"),c.Pb(),c.Qb(20,"input",6),c.Xb("ngModelChange",(function(t){return e.specification.laminationInner=t})),c.Pb(),c.Pb(),c.Pb(),c.Qb(21,"div",1),c.Qb(22,"mat-form-field"),c.Qb(23,"mat-label"),c.tc(24,"Height"),c.Pb(),c.Qb(25,"input",7),c.Xb("ngModelChange",(function(t){return e.specification.height=t})),c.Pb(),c.Qb(26,"mat-hint",8),c.tc(27,"Heigth in mm"),c.Pb(),c.Pb(),c.Qb(28,"mat-form-field"),c.Qb(29,"mat-label"),c.tc(30,"Width"),c.Pb(),c.Qb(31,"input",9),c.Xb("ngModelChange",(function(t){return e.specification.width=t}))("ngModelChange",(function(){return e.onDivisionCountChange()})),c.Pb(),c.Qb(32,"mat-hint",8),c.tc(33,"Width in mm"),c.Pb(),c.Pb(),c.Qb(34,"mat-form-field"),c.Qb(35,"mat-label"),c.tc(36,"Depth"),c.Pb(),c.Qb(37,"input",10),c.Xb("ngModelChange",(function(t){return e.specification.depth=t})),c.Pb(),c.Qb(38,"mat-hint",8),c.tc(39,"Depth in mm"),c.Pb(),c.Pb(),c.Pb(),c.Qb(40,"div",1),c.Qb(41,"mat-form-field"),c.Qb(42,"mat-label"),c.tc(43,"Thickness"),c.Pb(),c.Qb(44,"input",11),c.Xb("ngModelChange",(function(t){return e.specification.thickness=t}))("ngModelChange",(function(){return e.onDivisionCountChange()})),c.Pb(),c.Qb(45,"mat-hint",8),c.tc(46,"Thickness in mm"),c.Pb(),c.Pb(),c.Qb(47,"mat-form-field"),c.Qb(48,"mat-label"),c.tc(49,"Edge Band"),c.Pb(),c.Qb(50,"input",12),c.Xb("ngModelChange",(function(t){return e.specification.edgeBand=t})),c.Pb(),c.Qb(51,"mat-hint",8),c.tc(52,"Edgeband Code"),c.Pb(),c.Pb(),c.Qb(53,"mat-form-field"),c.Qb(54,"mat-label"),c.tc(55,"Division"),c.Pb(),c.Qb(56,"input",13),c.Xb("ngModelChange",(function(t){return e.specification.division=t}))("ngModelChange",(function(){return e.onDivisionCountChange()})),c.Pb(),c.Qb(57,"mat-hint",8),c.tc(58,"Number of Divisions"),c.Pb(),c.Pb(),c.Pb(),c.Qb(59,"div",14),c.rc(60,P,13,4,"div",15),c.Pb(),c.Qb(61,"div",1),c.Qb(62,"div",16),c.Qb(63,"div",17),c.Qb(64,"mat-checkbox",18),c.Xb("ngModelChange",(function(t){return e.isSlidingDoor=t}))("ngModelChange",(function(){return e.specification.frontSetBack=void 0})),c.tc(65," Sliding Door "),c.Pb(),c.Qb(66,"mat-form-field"),c.Qb(67,"mat-label"),c.tc(68,"Setback"),c.Pb(),c.Qb(69,"input",19),c.Xb("ngModelChange",(function(t){return e.specification.frontSetBack=t})),c.Pb(),c.Qb(70,"mat-hint",8),c.tc(71,"Setback from front in mm"),c.Pb(),c.Pb(),c.Pb(),c.Qb(72,"div",17),c.Qb(73,"mat-checkbox",20),c.Xb("ngModelChange",(function(t){return e.specification.dummy=t}))("ngModelChange",(function(){return e.specification.dummyWidth=void 0})),c.tc(74," Dummy "),c.Pb(),c.Qb(75,"mat-form-field"),c.Qb(76,"mat-label"),c.tc(77,"Dummy Width"),c.Pb(),c.Qb(78,"input",21),c.Xb("ngModelChange",(function(t){return e.specification.dummyWidth=t})),c.Pb(),c.Qb(79,"mat-hint",8),c.tc(80,"Dummy width in mm"),c.Pb(),c.Pb(),c.Pb(),c.Qb(81,"div",17),c.Qb(82,"mat-checkbox",22),c.Xb("ngModelChange",(function(t){return e.specification.skirting=t}))("ngModelChange",(function(){return e.specification.skirtingHeight=void 0})),c.tc(83," Skirting "),c.Pb(),c.Qb(84,"mat-form-field"),c.Qb(85,"mat-label"),c.tc(86,"Skirting Height"),c.Pb(),c.Qb(87,"input",23),c.Xb("ngModelChange",(function(t){return e.specification.skirtingHeight=t})),c.Pb(),c.Qb(88,"mat-hint",8),c.tc(89,"Height of skirting in mm"),c.Pb(),c.Pb(),c.Pb(),c.Qb(90,"div",17),c.Qb(91,"mat-checkbox",24),c.Xb("ngModelChange",(function(t){return e.specification.backPanel=t}))("ngModelChange",(function(){return e.specification.backPanelMaterial=void 0,e.specification.backPanelBuffer=void 0})),c.tc(92," Back Panel "),c.Pb(),c.Qb(93,"mat-form-field"),c.Qb(94,"mat-label"),c.tc(95,"Distance"),c.Pb(),c.Qb(96,"input",25),c.Xb("ngModelChange",(function(t){return e.specification.backPanelBuffer=t})),c.Pb(),c.Qb(97,"mat-hint",8),c.tc(98,"Distance from back side"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(99,"div",16),c.Qb(100,"div",26),c.Qb(101,"mat-button-toggle-group",27,28),c.Xb("valueChange",(function(t){return e.specification.layout[0]=t})),c.Qb(103,"mat-button-toggle",29),c.Lb(104,"mat-icon",30),c.Pb(),c.Qb(105,"mat-button-toggle",31),c.Lb(106,"mat-icon",32),c.Pb(),c.Pb(),c.Qb(107,"mat-button-toggle-group",27,28),c.Xb("valueChange",(function(t){return e.specification.layout[1]=t})),c.Qb(109,"mat-button-toggle",29),c.Lb(110,"mat-icon",33),c.Pb(),c.Qb(111,"mat-button-toggle",31),c.Lb(112,"mat-icon",34),c.Pb(),c.Pb(),c.Pb(),c.Qb(113,"div",26),c.Qb(114,"mat-button-toggle-group",27,35),c.Xb("valueChange",(function(t){return e.specification.layout[3]=t})),c.Qb(116,"mat-button-toggle",36),c.Lb(117,"mat-icon",37),c.Pb(),c.Qb(118,"mat-button-toggle",31),c.Lb(119,"mat-icon",38),c.Pb(),c.Pb(),c.Qb(120,"mat-button-toggle-group",27,39),c.Xb("valueChange",(function(t){return e.specification.layout[2]=t})),c.Qb(122,"mat-button-toggle",36),c.Lb(123,"mat-icon",40),c.Pb(),c.Qb(124,"mat-button-toggle",31),c.Lb(125,"mat-icon",41),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(126,"div",1),c.Qb(127,"mat-form-field",2),c.Qb(128,"mat-label"),c.tc(129,"Back Panel Material"),c.Pb(),c.Qb(130,"input",42),c.Xb("ngModelChange",(function(t){return e.specification.backPanelMaterial=t})),c.Pb(),c.Pb(),c.Pb(),c.Qb(131,"section",43),c.Qb(132,"div",44),c.Qb(133,"button",45),c.tc(134,"Cancel"),c.Pb(),c.Qb(135,"button",46),c.Xb("click",(function(){return e.save()})),c.tc(136,"Save"),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.Ab(5),c.ec("ngModel",e.specification.title),c.Ab(5),c.ec("ngModel",e.specification.material),c.Ab(5),c.ec("ngModel",e.specification.laminationOuter),c.Ab(5),c.ec("ngModel",e.specification.laminationInner),c.Ab(5),c.ec("ngModel",e.specification.height),c.Ab(6),c.ec("ngModel",e.specification.width),c.Ab(6),c.ec("ngModel",e.specification.depth),c.Ab(7),c.ec("ngModel",e.specification.thickness),c.Ab(6),c.ec("ngModel",e.specification.edgeBand),c.Ab(6),c.ec("ngModel",e.specification.division),c.Ab(4),c.ec("ngForOf",e.specification.compartments)("ngForTrackBy",e.trackByShelfIndex),c.Ab(4),c.ec("ngModel",e.isSlidingDoor),c.Ab(5),c.ec("disabled",!e.isSlidingDoor)("ngModel",e.specification.frontSetBack),c.Ab(4),c.ec("ngModel",e.specification.dummy),c.Ab(5),c.ec("disabled",!e.specification.dummy)("ngModel",e.specification.dummyWidth),c.Ab(4),c.ec("ngModel",e.specification.skirting),c.Ab(5),c.ec("disabled",!e.specification.skirting)("ngModel",e.specification.skirtingHeight),c.Ab(4),c.ec("ngModel",e.specification.backPanel),c.Ab(5),c.ec("disabled",!e.specification.backPanel)("ngModel",e.specification.backPanelBuffer),c.Ab(5),c.ec("value",e.specification.layout[0]),c.Ab(2),c.ec("value",0),c.Ab(2),c.ec("value",1),c.Ab(2),c.ec("value",e.specification.layout[1]),c.Ab(2),c.ec("value",0),c.Ab(2),c.ec("value",1),c.Ab(3),c.ec("value",e.specification.layout[3]),c.Ab(2),c.ec("value",0),c.Ab(2),c.ec("value",1),c.Ab(2),c.ec("value",e.specification.layout[2]),c.Ab(2),c.ec("value",0),c.Ab(2),c.ec("value",1),c.Ab(6),c.ec("disabled",!e.specification.backPanel)("ngModel",e.specification.backPanelMaterial),c.Ab(3),c.ec("routerLink",c.gc(39,M)))},directives:[d.m,d.i,d.j,g.a,g.e,u.a,d.b,d.h,d.k,d.l,g.d,m.i,h.a,f.b,f.a,r.a,p.a,a.c],styles:[".table-container[_ngcontent-%COMP%]{width:75%}.cupboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.row-container[_ngcontent-%COMP%]{justify-content:space-between}.compartment-container[_ngcontent-%COMP%], .row-container[_ngcontent-%COMP%]{padding-top:10px;display:flex;flex-direction:row;flex-wrap:wrap;width:40%}.compartment-column[_ngcontent-%COMP%]{background-color:#ccc;display:flex;flex-direction:column;padding:10px;border-radius:10px;width:28%;border:5px solid #fff}.layout-column[_ngcontent-%COMP%]{width:50%;flex-direction:column;align-items:center;align-content:space-between}.layout-container[_ngcontent-%COMP%]{justify-content:space-around}.checkbox-container[_ngcontent-%COMP%], .layout-container[_ngcontent-%COMP%]{padding-top:10px;display:flex;flex-direction:row;flex-wrap:wrap;width:100%;align-items:center}.checkbox-container[_ngcontent-%COMP%]{justify-content:space-between}.button-container[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:15px;display:flex;flex-direction:row;justify-content:flex-end;width:40%}.buttons-holder[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:row;justify-content:space-between}.full-width-field[_ngcontent-%COMP%]{width:100%}"]}),t})();const Q=a.d.forChild([{path:"cupboard",component:v},{path:"cupboard/:id",component:v}]);let y=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},imports:[[i.a,Q]]}),t})()}}]);